import os

def generate_report(directory):
    files_by_extension = {}

    for root, dirs, files in os.walk(directory):
        if root.count(os.sep) - directory.count(os.sep) > 1:
            continue
        for file in files:
            ext = os.path.splitext(file)[1]
            files_by_extension.setdefault(ext, []).append(file)

    sorted_extensions = sorted(files_by_extension.keys())
    for ext in sorted_extensions:
        files_by_extension[ext].sort()

    report_path = os.path.join(directory, "report.txt")
    with open(report_path, "w") as report:
        for ext in sorted_extensions:
            report.write(f"{ext}\n")
            for file in files_by_extension[ext]:
                report.write(f"- - - {file}\n")

generate_report(".")
